var Graticule=function(){function a(a,b){this.sex_=b||!1,this.set("container",document.createElement("DIV")),this.setMap(a),this.show()}function b(a){var b=a.getMap().getMapTypeId(),c=google.maps.MapTypeId;if(b===c.HYBRID)return"#fff";if(b===c.ROADMAP)return"#000";if(b===c.SATELLITE)return"#fff";if(b===c.TERRAIN)return"#000";var d=a.getMap().mapTypes[b];return d.textColor?d.textColor:"#fff"}function c(a){return.01>a?3:.1>a?2:1>a?1:0}function d(a,b,c){for(var d=0;d<b.length;d+=1)if(a<=b[d])return b[d];return c}function e(a){return a.sex_?p:o}function f(a,b,c){return a.getProjection().fromLatLngToDivPixel(new google.maps.LatLng(b,c))}function g(a,b){return d(Math.ceil(a/n*6e3)/100,b,2700)/60}function h(a){return a.toString()+"px"}function i(a,b,c,d){var e=document.createElement("DIV"),f=e.style;return f.position="absolute",f.left=h(b),f.top=h(c),f.color=a,f.width="3em",f.fontSize="1.0em",f.whiteSpace="nowrap",e.innerHTML=d,e}function j(a,b,c,d,e){var f=document.createElement("DIV"),g=f.style;return g.position="absolute",g.overflow="hidden",g.backgroundColor=e,g.opacity=.3,g.left=h(a),g.top=h(b),g.width=h(c),g.height=h(d),f}function k(a,b){return j(a,-q,1,2*q,b)}function l(a,b){return j(-q,a,2*q,1,b)}function m(a,b,c){return c||(c=Math.pow(10,-6)),Math.abs(a-b)<c?!0:!1}a.prototype=new google.maps.OverlayView,a.prototype.addDiv=function(a){this.get("container").appendChild(a)},a.prototype.decToSex=function(a){var b=Math.floor(a),c=(60*(Math.abs(a)-b)).toFixed(2);return"60.00"===c&&(b+=1,c="0.00"),[b,":",c].join("")},a.prototype.onAdd=function(){function a(){c.draw()}function b(){c.draw()}var c=this;this.getPanes().mapPane.appendChild(this.get("container")),this.idleHandler_=google.maps.event.addListener(this.getMap(),"idle",a),b(),this.typeHandler_=google.maps.event.addListener(this.getMap(),"maptypeid_changed",b)},a.prototype.clear=function(){for(var a=this.get("container");a.hasChildNodes();)a.removeChild(a.firstChild)},a.prototype.onRemove=function(){this.get("container").parentNode.removeChild(this.get("container")),this.set("container",null),google.maps.event.removeListener(this.idleHandler_),google.maps.event.removeListener(this.typeHandler_)},a.prototype.show=function(){this.get("container").style.display="block",google.maps.event.trigger(this.getMap(),"idle")},a.prototype.hide=function(){this.get("container").style.display="none"},a.prototype.isVisible=function(){return"none"!==this.get("container").style.display};var n=10,o=[.06,.12,.3,.6,1.2,3,6,12,30,60,120,300,600,1200,1800],p=[.01,.02,.05,.1,.2,.5,1,3,6,12,30,60,120,300,600,1200,1800],q=5e4;return a.prototype.draw=function(){var a=b(this);if(this.clear(),"none"!==this.get("container").style.display){var d=this.getMap().getBounds();if(d){var h=d.getSouthWest(),j=d.getNorthEast(),n=h.lng(),o=h.lat(),p=j.lng(),q=j.lat();n===p&&(n=-180,p=180),q===o&&(o=-90,q=90);var r=e(this),s=g(q-o,r),t=g(p>n?p-n:180-n+(p+180),r);n=Math.floor(n/t)*t,o=Math.floor(o/s)*s,q=Math.ceil(q/s)*s,p=Math.ceil(p/t)*t,p===n&&(n+=t),n>p&&(p+=360);for(var u=n+2*t,v=f(this,o+2*s,n).y+2,w=n;p>w;w+=t){w>180&&(p-=360,w-=360);var x=f(this,o,w).x;this.addDiv(k(x,a));var y=m(w,u);this.addDiv(i(a,x+(y?17:3),v-(y?3:0),this.sex_?this.decToSex(w):w.toFixed(c(t))))}for(var z=o+2*s,A=f(this,o,n+2*t).x+3;q>=o;o+=s){var B=f(this,o,n).y;this.addDiv(l(B,a)),this.addDiv(i(a,A,B+(m(o,z)?7:2),this.sex_?this.decToSex(o):o.toFixed(c(s))))}}}},a}();